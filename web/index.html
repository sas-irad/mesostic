<!doctype html
<html lang="eng">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Mesostomatic Poem Generator</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/main.css">
        <script src="js/mesostic.js"></script>
        <script src="js/vendor/pad.js"></script>
    </head>
    <body>
        <h1 class="titlefont"><img src="images/john_cage.jpg" width="800" height="150" alt=""/></h1>
    <form id="mesosticForm">
    <table width="800" border="0" cellspacing="0" cellpadding="0">
          <tbody>
            <tr>
              <td><div align="right"><span class="textfont">spine word(s)?</span></div></td>
              <td>&nbsp;</td>
              <td><span class="textfont">
                <input name="spineword" type="text" id="spineword" size="72" value="John Cage">
              </span></td>
            </tr>
            <tr>
              <td>&nbsp;</td>
              <td>&nbsp;</td>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td><div align="right"><span class="textfont">source text?</span></div></td>
              <td>&nbsp;</td>
              <td><span class="textfont">
                <textarea name="sourcetext" cols="72" rows="10" id="sourcetext">
John Milton Cage Jr. (September 5, 1912 – August 12, 1992) was an American composer, music theorist, writer, and artist. A pioneer of indeterminacy in music, electroacoustic music, and non-standard use of musical instruments, Cage was one of the leading figures of the post-war avant-garde. Critics have lauded him as one of the most influential American composers of the 20th century.[1][2][3][4] He was also instrumental in the development of modern dance, mostly through his association with choreographer Merce Cunningham, who was also Cage's romantic partner for most of their lives.[5][6]

Cage is perhaps best known for his 1952 composition 4′33″, which is performed in the absence of deliberate sound; musicians who present the work do nothing aside from being present for the duration specified by the title. The content of the composition is not "four minutes and 33 seconds of silence," as is sometimes assumed, but rather the sounds of the environment heard by the audience during performance.[7][8] The work's challenge to assumed definitions about musicianship and musical experience made it a popular and controversial topic both in musicology and the broader aesthetics of art and performance. Cage was also a pioneer of the prepared piano (a piano with its sound altered by objects placed between or on its strings or hammers), for which he wrote numerous dance-related works and a few concert pieces. The best known of these is Sonatas and Interludes (1946–48).[9]

His teachers included Henry Cowell (1933) and Arnold Schoenberg (1933–35), both known for their radical innovations in music, but Cage's major influences lay in various East and South Asian cultures. Through his studies of Indian philosophy and Zen Buddhism in the late 1940s, Cage came to the idea of aleatoric or chance-controlled music, which he started composing in 1951.[10] The I Ching, an ancient Chinese classic text on changing events, became Cage's standard composition tool for the rest of his life. In a 1957 lecture, Experimental Music, he described music as "a purposeless play" which is "an affirmation of life – not an attempt to bring order out of chaos nor to suggest improvements in creation, but simply a way of waking up to the very life we're living".
                </textarea>
              </span></td>
            </tr>
            <tr>
              <td>&nbsp;</td>
              <td>&nbsp;</td>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td><div align="right"><span class="textfont">number of mesostics?</span></div></td>
              <td>&nbsp;</td>
              <td><input name="number_mesostics" type="text" id="number_mesostics" value="1" size="5" maxlength="5"></td>
            </tr>
            <tr>
              <td class="textfont">&nbsp;</td>
              <td>&nbsp;</td>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td valign="top" class="textfont"><div align="right">where do stanzas break?</div></td>
              <td>&nbsp;</td>
              <td><table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tbody>
                    <tr>
                      <td><input name="stanzas_break" type="radio" id="radio8" value="random" checked>
                        <span class="textfont">randomly</span></td>
                      <td>&nbsp;</td>
                      <td>&nbsp;</td>
                    </tr>
                    <tr>
                      <td><input type="radio" name="stanzas_break" id="radio9" value="spineWord">
                        <span class="textfont">after every spine word</span></td>
                      <td>&nbsp;</td>
                      <td>&nbsp;</td>
                    </tr>
                  </tbody>
                </table></td>
            </tr>
            <tr>
              <td>&nbsp;</td>
              <td>&nbsp;</td>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td><div align="right"><span class="textfont">strip punctuation?</span></div></td>
              <td>&nbsp;</td>
              <td><table width="125" border="0" cellspacing="0" cellpadding="0">
                <tbody>
                  <tr>
                    <td><input name="strip_punctuation" type="radio" id="radio" value="1" checked>
                    <span class="textfont">yes</span></td>
                    <td>&nbsp;</td>
                    <td><input type="radio" name="strip_punctuation" id="radio2" value="0">
                    <label for="strip_punctuation" class="textfont">no</label></td>
                  </tr>
                </tbody>
              </table></td>
            </tr>
            <tr>
              <td class="textfont">&nbsp;</td>
              <td>&nbsp;</td>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td valign="top" class="textfont"><div align="right">how sparse is the wing text?</div></td>
              <td>&nbsp;</td>
              <td><table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tbody>
                    <tr>
                      <td><input name="sparse_wing_text" type="radio" id="radio5" value="normal" checked>
                      <span class="textfont">normal</span></td>
                      <td>&nbsp;</td>
                      <td><span class="purpletextfont">Note: Sparse wing text is the number of words between the spine words.</span></td>
                    </tr>
                    <tr>
                      <td><input type="radio" name="sparse_wing_text" id="radio6" value="sparse">
                      <span class="textfont">sparse</span></td>
                      <td>&nbsp;</td>
                      <td>&nbsp;</td>
                    </tr>
                    <tr>
                      <td><input type="radio" name="sparse_wing_text" id="radio7" value="very sparse">
                      <span class="textfont">very sparse</span></td>
                      <td>&nbsp;</td>
                      <td>&nbsp;</td>
                    </tr>
                </tbody>
                </table></td>
            </tr>
            <tr>
              <td valign="top">&nbsp;</td>
              <td>&nbsp;</td>
              <td>&nbsp;</td>
            </tr>
            <tr>
              <td valign="top"><div align="right"><span class="textfont">which mesostic rule?</span></div></td>
              <td>&nbsp;</td>
              <td><table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tbody>
                    <tr>
                      <td><input name="mesostic_rule" type="radio" id="radio3" value="basic" checked>
                      <label for="mesostic_rule1" class="textfont">basic</label></td>
                      <td>&nbsp;</td>
                      <td>&nbsp;</td>
                    </tr>
                    <tr>
                      <td><input name="mesostic_rule" type="radio" id="radio3" value="50" checked>
                      <label for="mesostic_rule3" class="textfont">50% rule</label></td>
                      <td>&nbsp;</td>
                      <td>&nbsp;</td>
                    </tr>
                    <tr>
                      <td><input type="radio" name="mesostic_rule" id="radio4" value="100">
                      <label for="mesostic_rule2" class="textfont">100% rule</label></td>
                      <td>&nbsp;</td>
                      <td><span class="purpletextfont">Note: If you choose the 100% rule, you will be discarding a lot of words.</span></td>
                    </tr>
                  </tbody>
                </table></td>
            </tr>
            <tr>
              <td><div align="right" class="textfont"></div></td>
              <td>&nbsp;</td>
              <td>&nbsp;</td>
            </tr>
          </tbody>
    </table>
    </form>
    <button onclick="doParse();">Parse</button>
        <p class="textfont"><a href="about.html">about the project</a></p>
<pre id="mesostic_content">
                                   let us maKe
                                       of thIs
</pre>

    </body>
    <script type="text/javascript">
        getRadioVal = function (name) {
            var val;
            // get list of radio buttons with specified name
            var radios = document.getElementById('mesosticForm').elements[name];
            
            // loop through list of radio buttons
            for (var i=0, len=radios.length; i<len; i++) {
                if ( radios[i].checked ) { // radio checked?
                    val = radios[i].value; // if so, hold its value in val
                    break; // and break out of for loop
                }
            }
            return val; // return value of checked radio or undefined if none checked
        };

        function doParse() {
            var spineWords = document.getElementById('spineword').value;
            var sourceText = document.getElementById('sourcetext').value;
            var options = {
                rule: getRadioVal('mesostic_rule'),
                spineLoops: document.getElementById('number_mesostics').value,
                stripPunctuation: getRadioVal('strip_punctuation') === "1",
                stanzaBreaks: getRadioVal('stanzas_break'),
                wingTextSparsity: getRadioVal('sparse_wing_text')
            };
            console.log(options);
            var result = mesostic.parse(spineWords, sourceText, options);
            document.getElementById('mesostic_content').innerHTML = mesostic.formatText(result);
            return result;
        }
    </script>
</html>
